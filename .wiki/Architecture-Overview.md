# Architecture Overview

**nself-chat System Architecture** - High-level design and technical overview.

**Version**: 0.9.2 | **Last Updated**: February 10, 2026

---

## ðŸŽ¯ Executive Summary

nself-chat is a production-ready, white-label team communication platform built as a **monorepo** with separate backend and frontend concerns. It supports **6 platforms** (Web, iOS, Android, Windows, macOS, Linux) from a single React codebase.

**Key Design Principles:**

- **Separation of Concerns**: Backend (nself CLI) and Frontend (React) are independent
- **Code Reuse**: Shared packages across all platform apps
- **Type Safety**: 100% TypeScript with zero errors
- **Production Ready**: Zero compromises on quality, security, or performance

---

## ðŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        nself-chat v0.9.2                        â”‚
â”‚                    Multi-Platform Chat System                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Frontend    â”‚                         â”‚     Backend     â”‚
â”‚   (React 19)   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (nself CLI)    â”‚
â”‚                â”‚     GraphQL/WebSocket   â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                           â”‚
        â”‚                                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Platform Apps                  â”‚    â”‚   Backend Services       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Web (Next.js 15)                 â”‚    â”‚ â€¢ PostgreSQL (database)  â”‚
â”‚ â€¢ iOS (Capacitor 6)                â”‚    â”‚ â€¢ Hasura (GraphQL)       â”‚
â”‚ â€¢ Android (Capacitor 6)            â”‚    â”‚ â€¢ Auth (Nhost)           â”‚
â”‚ â€¢ Windows (Electron 33)            â”‚    â”‚ â€¢ MinIO (storage)        â”‚
â”‚ â€¢ macOS (Electron 33)              â”‚    â”‚ â€¢ Redis (cache)          â”‚
â”‚ â€¢ Linux (Electron 33)              â”‚    â”‚ â€¢ MeiliSearch (search)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ Mailpit (email dev)    â”‚
                                          â”‚ â€¢ Nginx (proxy)          â”‚
                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“ Monorepo Structure

### Project Layout

```
nself-chat/
â”œâ”€â”€ backend/                  # Backend infrastructure (nself CLI)
â”‚   â”œâ”€â”€ migrations/          # SQL migrations (222 tables)
â”‚   â”œâ”€â”€ hasura/             # GraphQL metadata and permissions
â”‚   â”œâ”€â”€ nginx/              # Reverse proxy configuration
â”‚   â”œâ”€â”€ postgres/           # PostgreSQL init scripts
â”‚   â”œâ”€â”€ auth/               # Auth service configuration
â”‚   â”œâ”€â”€ schema.dbml         # Database schema (DBML format)
â”‚   â”œâ”€â”€ docker-compose.yml  # Generated by nself build
â”‚   â”œâ”€â”€ .env                # Local environment config
â”‚   â””â”€â”€ README.md           # Backend documentation
â”‚
â”œâ”€â”€ frontend/                # Frontend monorepo (all platforms)
â”‚   â”œâ”€â”€ apps/
â”‚   â”‚   â”œâ”€â”€ web/            # Next.js 15 web application
â”‚   â”‚   â”‚   â”œâ”€â”€ src/        # Source code
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ app/    # Next.js App Router
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ public/     # Static assets
â”‚   â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ mobile/         # Capacitor mobile app
â”‚   â”‚   â”‚   â”œâ”€â”€ src/        # React source code
â”‚   â”‚   â”‚   â”œâ”€â”€ android/    # Native Android project
â”‚   â”‚   â”‚   â”œâ”€â”€ ios/        # Native iOS project
â”‚   â”‚   â”‚   â”œâ”€â”€ capacitor.config.json
â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ desktop/        # Electron desktop app
â”‚   â”‚       â”œâ”€â”€ src/
â”‚   â”‚       â”‚   â”œâ”€â”€ main/   # Main process (Node.js)
â”‚   â”‚       â”‚   â”œâ”€â”€ preload/# Preload scripts
â”‚   â”‚       â”‚   â”œâ”€â”€ renderer/# Renderer process (React)
â”‚   â”‚       â”‚   â””â”€â”€ adapters/# Platform adapters
â”‚   â”‚       â”œâ”€â”€ build/      # Build resources (icons)
â”‚   â”‚       â”œâ”€â”€ electron-builder.json
â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ packages/           # Shared packages (code reuse)
â”‚   â”‚   â”œâ”€â”€ ui/            # Radix UI components
â”‚   â”‚   â”œâ”€â”€ config/        # Configuration types
â”‚   â”‚   â”œâ”€â”€ lib/           # Utility functions
â”‚   â”‚   â”œâ”€â”€ graphql/       # GraphQL client & queries
â”‚   â”‚   â”œâ”€â”€ auth/          # Authentication logic
â”‚   â”‚   â”œâ”€â”€ state/         # State management (Zustand)
â”‚   â”‚   â””â”€â”€ types/         # TypeScript types
â”‚   â”‚
â”‚   â”œâ”€â”€ tooling/           # Development tooling
â”‚   â”‚   â””â”€â”€ eslint/        # Shared ESLint config
â”‚   â”‚
â”‚   â”œâ”€â”€ package.json       # Root workspace config
â”‚   â”œâ”€â”€ pnpm-workspace.yaml
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ .wiki/                 # Complete documentation (228 files)
â”‚   â”œâ”€â”€ Home.md           # Documentation home
â”‚   â”œâ”€â”€ getting-started/
â”‚   â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ guides/
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ deployment/
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ .github/              # GitHub Actions CI/CD
â”‚   â””â”€â”€ workflows/        # 19 workflow files
â”‚
â”œâ”€â”€ .claude/              # Claude Code context (gitignored)
â”‚   â””â”€â”€ v092/            # Current version tracking
â”‚
â”œâ”€â”€ scripts/              # Build and utility scripts
â”œâ”€â”€ package.json          # Root package.json
â”œâ”€â”€ README.md            # Project overview
â””â”€â”€ LICENSE              # MIT License
```

---

## ðŸ”§ Backend Architecture

### nself CLI Stack

The backend uses [nself CLI](https://nself.org) v0.4.2 for a complete BaaS (Backend as a Service) stack.

**Core Services** (required):

1. **PostgreSQL 16** - Primary database with 60+ extensions
2. **Hasura 2.x** - GraphQL Engine with permissions
3. **Auth** - Nhost Authentication service
4. **Nginx** - Reverse proxy + SSL termination

**Optional Services** (configurable via `.env`):

- **nself-admin** - Admin UI (port 3021)
- **MinIO** - S3-compatible object storage
- **Redis** - Cache and session storage
- **MeiliSearch** - Full-text search engine
- **Mailpit** - Email testing (dev only)
- **Monitoring Stack** - Grafana, Prometheus, Loki, etc.

### Database Schema

**222 tables** organized by feature:

- **Core Tables**: users, profiles, channels, messages, threads
- **RBAC**: roles, permissions, user_roles
- **Features**: reactions, bookmarks, pins, attachments
- **Advanced**: guilds, categories, broadcasts, bots
- **Multi-Tenancy**: workspaces, subscriptions, billing
- **Analytics**: events, metrics, audit_logs

**Schema Format**: DBML (Database Markup Language) in `backend/schema.dbml`

### GraphQL API

**Hasura** provides:

- Auto-generated GraphQL API from PostgreSQL schema
- Real-time subscriptions via WebSocket
- Role-based permissions (RBAC)
- Remote schemas for custom business logic
- Actions for REST API integration

**API Endpoints**:

- GraphQL: `/v1/graphql`
- WebSocket: `/v1/graphql` (ws://)
- Admin Console: `/console`

---

## ðŸ’» Frontend Architecture

### Multi-Platform Strategy

**One codebase â†’ Six platforms** using React 19:

| Platform | Technology | Build Output |
|----------|-----------|--------------|
| Web | Next.js 15 (SSR/SSG) | Static HTML + JS |
| iOS | Capacitor 6 + WebView | .ipa (App Store) |
| Android | Capacitor 6 + WebView | .apk/.aab (Play Store) |
| Windows | Electron 33 | .exe installer |
| macOS | Electron 33 | .dmg disk image |
| Linux | Electron 33 | .AppImage/.deb/.rpm |

### Shared Packages

**Monorepo design** maximizes code reuse:

```typescript
// Example: Importing from shared packages
import { Button } from '@nself-chat/ui'
import { useAuth } from '@nself-chat/auth'
import { apolloClient } from '@nself-chat/graphql'
import { logger } from '@nself-chat/lib'
```

**Benefits**:

- âœ… Single source of truth for types
- âœ… Consistent UI across all platforms
- âœ… Shared business logic
- âœ… Easier testing and maintenance

### Platform Adapters

Each platform has **adapters** for native features:

**Mobile Adapters** (`frontend/apps/mobile/src/adapters/`):

- `storage/` - AsyncStorage â†’ LocalStorage interface
- `auth/` - Biometric authentication (Face ID, Touch ID)
- `notifications/` - Push notifications (FCM/APNS)
- `camera/` - Photo capture and gallery access
- `network/` - Connectivity monitoring

**Desktop Adapters** (`frontend/apps/desktop/src/adapters/`):

- `storage/` - electron-store â†’ LocalStorage interface
- `notifications/` - Native desktop notifications
- `clipboard/` - System clipboard access
- `filesystem/` - File system operations
- `window/` - Window management

### State Management

**Zustand 5.0** for local state:

```typescript
// Example: Auth store
import { create } from 'zustand'

const useAuthStore = create((set) => ({
  user: null,
  login: (user) => set({ user }),
  logout: () => set({ user: null }),
}))
```

**Apollo Client 3.12** for server state:

```typescript
// Example: GraphQL query
const { data, loading } = useQuery(GET_MESSAGES, {
  variables: { channelId },
})
```

### UI Component Library

**Radix UI** primitives + **Tailwind CSS** styling:

- Accessible (WCAG 2.1 AA compliant)
- Unstyled primitives (full control)
- Dark/light mode support
- Consistent across all platforms

---

## ðŸ” Security Architecture

### Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚â”€â”€â”€â”€â”€â–¶â”‚   Auth   â”‚â”€â”€â”€â”€â”€â–¶â”‚ Hasura   â”‚
â”‚ (Browser)â”‚      â”‚ Service  â”‚      â”‚ GraphQL  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                  â”‚                  â”‚
     â”‚                  â”‚                  â”‚
     â–¼                  â–¼                  â–¼
  JWT Token      JWT Secret         JWT Validation
  (httpOnly      (HMAC-SHA256)      (x-hasura-* claims)
   cookie)
```

**Auth Methods**:

- Email + Password
- Magic Links (passwordless)
- 11 OAuth Providers (Google, GitHub, Apple, etc.)
- 2FA/TOTP (optional)
- Biometric (mobile)

### Authorization (RBAC)

**5 built-in roles** with granular permissions:

1. **Owner** - Full access to everything
2. **Admin** - User and channel management
3. **Moderator** - Content moderation
4. **Member** - Standard user
5. **Guest** - Limited read-only access

**Permission Examples**:

```typescript
// Hasura permission rules (simplified)
{
  "select": {
    "filter": {
      "_or": [
        { "channel.type": "public" },
        { "channel.members.user_id": "X-Hasura-User-Id" }
      ]
    }
  }
}
```

### Data Security

- **End-to-End Encryption**: Signal Protocol (Double Ratchet)
- **Transport Security**: HTTPS/TLS 1.3
- **Database Encryption**: At-rest encryption (optional)
- **Secrets Management**: Environment variables + vault
- **Input Sanitization**: DOMPurify for XSS prevention
- **CSRF Protection**: SameSite cookies
- **Rate Limiting**: Redis-based rate limiting

---

## ðŸš€ Deployment Architecture

### Development Environment

```
Developer Machine
â”œâ”€â”€ Backend (Docker)
â”‚   â””â”€â”€ 8 services running via nself CLI
â””â”€â”€ Frontend (Node.js)
    â””â”€â”€ pnpm dev (port 3000)
```

### Production Architecture (Recommended)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Load Balancer                  â”‚
â”‚         (nginx, Cloudflare, etc.)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚  Web   â”‚         â”‚ Backend â”‚
â”‚ Nodes  â”‚         â”‚ Cluster â”‚
â”‚ (Next) â”‚         â”‚(Hasura) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                   â”‚
    â”‚              â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚              â”‚   DB    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶(Postgres)
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Deployment Options

| Option | Best For | Complexity |
|--------|----------|-----------|
| **Vercel** | Web app only | Low |
| **Docker** | Self-hosted | Medium |
| **Kubernetes** | Enterprise scale | High |
| **AWS/GCP/Azure** | Full control | High |

---

## ðŸ“Š Data Flow

### Real-Time Messaging

```
User A                    Server                    User B
  â”‚                         â”‚                         â”‚
  â”‚â”€â”€â”€â”€â”€(1) Send Msgâ”€â”€â”€â”€â”€â”€â”€â–¶â”‚                         â”‚
  â”‚      (GraphQL)          â”‚                         â”‚
  â”‚                         â”‚                         â”‚
  â”‚â—€â”€â”€â”€â”€(2) Confirm â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
  â”‚      (200 OK)           â”‚                         â”‚
  â”‚                         â”‚                         â”‚
  â”‚                         â”‚â”€â”€(3) Push Msgâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚                         â”‚   (WebSocket)           â”‚
  â”‚                         â”‚                         â”‚
  â”‚                         â”‚â—€â”€â”€â”€â”€(4) Ackâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                         â”‚                         â”‚
```

**Steps**:

1. User A sends message via GraphQL mutation
2. Server validates, saves to DB, returns confirmation
3. Server pushes message to User B via WebSocket subscription
4. User B acknowledges receipt

### File Upload Flow

```
Client                 Frontend              MinIO            Database
  â”‚                       â”‚                    â”‚                 â”‚
  â”‚â”€(1) Select Fileâ”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                 â”‚
  â”‚                       â”‚                    â”‚                 â”‚
  â”‚                       â”‚â”€(2) Get Upload URLâ”€â–¶â”‚                â”‚
  â”‚                       â”‚                    â”‚                 â”‚
  â”‚                       â”‚â—€â”€(3) Signed URLâ”€â”€â”€â”€â”‚                 â”‚
  â”‚                       â”‚                    â”‚                 â”‚
  â”‚â—€â”€(4) Upload Directâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
  â”‚                       â”‚                    â”‚                 â”‚
  â”‚                       â”‚â”€(5) Save Metadataâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚                       â”‚                    â”‚                 â”‚
  â”‚â—€â”€(6) Successâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                 â”‚
```

**Benefits**:

- Direct upload to S3 (faster)
- No frontend server load
- Scalable file storage

---

## ðŸ”„ Development Workflow

### Git Branch Strategy

```
main (production)
  â”‚
  â””â”€â”€ develop (staging)
        â”‚
        â”œâ”€â”€ feature/new-feature
        â”œâ”€â”€ fix/bug-fix
        â””â”€â”€ refactor/code-cleanup
```

### CI/CD Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Commit    â”‚â”€â”€â”€â”€â–¶â”‚  CI Checks  â”‚â”€â”€â”€â”€â–¶â”‚   Deploy    â”‚
â”‚  (GitHub)   â”‚     â”‚  (Actions)  â”‚     â”‚ (Vercel)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚
              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
              â”‚   Lint   â”‚  â”‚   Test   â”‚
              â”‚   Type   â”‚  â”‚   Build  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CI Checks**:

- âœ… Linting (ESLint)
- âœ… Type checking (TypeScript)
- âœ… Unit tests (Jest)
- âœ… Integration tests
- âœ… E2E tests (Playwright)
- âœ… Security scans (TruffleHog)
- âœ… Build verification

---

## ðŸ“ˆ Performance Optimizations

### Frontend

- **Code Splitting**: Dynamic imports, route-based splitting
- **Image Optimization**: Next.js Image component, Sharp.js
- **Bundle Analysis**: Webpack Bundle Analyzer
- **Lazy Loading**: React.lazy for heavy components
- **Memoization**: React.memo, useMemo, useCallback
- **Virtual Scrolling**: For long message lists

### Backend

- **Database Indexes**: Optimized indexes for common queries
- **Connection Pooling**: PgBouncer for PostgreSQL
- **Caching**: Redis for frequently accessed data
- **Query Optimization**: Hasura performance hints
- **CDN**: Static assets on CDN (Cloudflare, etc.)

### Monitoring

- **Sentry**: Error tracking and performance monitoring
- **Grafana**: Metrics dashboards
- **Prometheus**: Metrics collection
- **Loki**: Log aggregation

---

## ðŸ§ª Testing Strategy

### Test Pyramid

```
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  E2E Tests  â”‚  (Playwright)
           â”‚    ~150     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚Integration    â”‚  (Jest)
          â”‚   Tests       â”‚
          â”‚    ~250       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   Unit Tests       â”‚  (Jest)
       â”‚     ~600           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Coverage Goals**:

- Unit Tests: >80%
- Integration Tests: Critical paths
- E2E Tests: User journeys

---

## ðŸ“š Technology Stack Summary

### Frontend

| Category | Technology | Version |
|----------|-----------|---------|
| Framework | Next.js | 15.1.6 |
| UI Library | React | 19.0.0 |
| Language | TypeScript | 5.7.3 |
| Styling | Tailwind CSS | 3.4.17 |
| State | Zustand | 5.0.3 |
| GraphQL | Apollo Client | 3.12.8 |
| UI Components | Radix UI | Latest |
| Forms | React Hook Form | 7.54.2 |
| Validation | Zod | 3.24.1 |

### Backend

| Category | Technology | Version |
|----------|-----------|---------|
| Database | PostgreSQL | 16 |
| GraphQL | Hasura | 2.x |
| Auth | Nhost Auth | Latest |
| Storage | MinIO | Latest |
| Search | MeiliSearch | 1.x |
| Cache | Redis | 7.x |
| Proxy | Nginx | Latest |
| Infrastructure | nself CLI | 0.4.2 |

### Mobile/Desktop

| Category | Technology | Version |
|----------|-----------|---------|
| Mobile | Capacitor | 6.2 |
| Desktop | Electron | 33.2 |
| Build Tool | Vite | 6.0 |

### DevOps

| Category | Technology | Purpose |
|----------|-----------|---------|
| CI/CD | GitHub Actions | Automation |
| Monitoring | Sentry | Error tracking |
| Logging | Loki | Log aggregation |
| Metrics | Prometheus | Metrics collection |
| Dashboards | Grafana | Visualization |

---

## ðŸ”— Additional Resources

- [Backend README](../backend/README.md) - Backend setup and services
- [Frontend README](../frontend/README.md) - Frontend monorepo details
- [Database Schema](Schema-Complete.md) - Complete schema documentation
- [API Reference](api/API.md) - GraphQL API documentation
- [Deployment Guide](deployment/DEPLOYMENT-GUIDE.md) - Production deployment

---

**Next Steps**: [Quick Start](getting-started/Quick-Start.md) | [Installation](getting-started/Installation.md) | [Deployment](deployment/DEPLOYMENT-GUIDE.md)
